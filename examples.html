<!DOCTYPE HTML>

<html>

	<head>
		<title>EchoNest JavaScript API</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		
			<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.4.4.js" type="text/javascript"></script>
			<script src="http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js" type="text/javascript"></script>
			<script src="scripts/echonest.js" type="text/javascript"></script>

			<script type="text/javascript">
					$(document).ready(function() {
						
						var echonest = new EchoNest("KTY7T5L87IZ1OG2TM");
						
						// get a set of "Hybrid" audio and output as HTML5 audio tags to the page
						echonest.artist("Hybrid").audio( function(audioCollection) {
							$("#artistAudio").append( audioCollection.to_html('<p>${artist} - ${length} long<br /><audio src="${url}" controls preload="none"></audio></p>') );
						});
						
						// get the second Radiohead biography by artist id and output it onto the page, also output the site it came from and the license used. Nested items are available through a prefix. E.g. "license_type"
						echonest.artist("ARH6W4X1187B99274F").biographies( function(biographyCollection) {
							$("#artistBiography").append( biographyCollection.at(1).to_html('<p>${text} <br/>by: <strong>${site} - <span class="license">${license_type}</span></strong></p>') );
						});
						
						// get a summary of the booka shade blogs plus a count of the available items on the server, where we started from and how many items in our local collection.
						echonest.artist("Booka Shade").blogs( function(blogCollection) {
							$("#artistBlogs").append( blogCollection.to_html('<p>${summary}<br/><span class="total">Total: </span> | <span class="started_at">Started At: </span> | <span class="size">Size of Collection: </span></p>') );
							$("#artistBlogs .total").append( blogCollection.total() );
							$("#artistBlogs .started_at").append( blogCollection.start() );
							$("#artistBlogs .size").append( blogCollection.size() );
						});
						
						// how well do people know Trentemøller?
						echonest.artist("Trentemøller").familiarity( function(familiarity) {
							$('#artistFamiliarity').append( familiarity.to_html('<p>"${familiarity}"</p>') );
						});
						
						// how hot is The Glitch Mob?
						echonest.artist("The Glitch Mob").hotttnesss( function(hotttnesss) {
							$('#artistHotttnesss').append( hotttnesss.to_html('<p>"${hotttnesss}"</p>') );
						});

						// get a set of "Radiohead" artist images and output as a bunch of images to the page (limited to first five results)
						echonest.artist("Radiohead").images( function(imageCollection) {
							$('#artistImages').append( imageCollection.to_html('<img src="${url}">') );
						}, {results: 5});
						
					});
					
			</script>
		
	</head>

	<body>
		
		<h2>Artist Audio (Hybrid)</h2>
		<div id="artistAudio"></div>		
		
		<h2>Artist Biography (Radiohead)</h2>
		<div id="artistBiography"></div>
		
		<h2>Artist Blogs (Booka Shade)</h2>
		<div id="artistBlogs"></div>
		
		<h2>Artist Familiarity (Trentemøller)</h2>
		<div id="artistFamiliarity"></div>
		
		<h2>Artist Hotttnesss (The Glitch Mob)</h2>
		<div id="artistHotttnesss"></div>
		
		<h2>Artist Images (Radiohead)</h2>
		<div id="artistImages"></div>
		
	</body>
	
</html>